task: exo7_mc
dataset_path: arrow
dataset_kwargs: 
  data_files: 
    test: /home/data/dataset/openllm/exo7/huggingface/test/data-00000-of-00001.arrow

output_type: multiple_choice
test_split: test


doc_to_text: |

  {% raw %}
  Pour les questions suivantes, il peut y avoir plusieurs bonnes réponses. Choisissez une seule bonne réponse possible.

  Question :
  Soient $f,g$ deux fonctions définies sur $\Rr$. Quelles sont les assertions vraies ?

  A. $f - 2g$ est une fonction définie sur $\Rr$
  B. $f^2 \times g$ est une fonction définie sur $\Rr$
  C. $\frac{f}{g^2}$ est une fonction définie sur $\Rr$
  D. $\sqrt{f+g}$ est une fonction définie sur $\Rr$

  Réponse : $f^2 \times g$ est une fonction définie sur $\Rr$


  Question :
  Etant donné que $\displaystyle f(3)=1$ et $f'(3)=5$. Une équation de la tangente à $\mathcal{C}_f$ au point $(3,1)$ est : 
  
  A. $y=1(x-3)+5=x+2$ 
  B. $y=1(x-3)-5=x-8$ 
  C. $y=5(x-3)-1=5x-16$ 
  D. $y=5(x-3)+1=5x-14$

  Réponse : $y=5(x-3)+1=5x-14$


  Question :
  On considère les deux applications suivantes : 
  $$\begin{array}{rccc}f:&\Rr&\to&\Rr\\
  & x&\to & \sin x \end{array} \quad \mbox{et} \quad \begin{array}{rccc}g:&\Rr^2&\to&\Rr^2\\
  & (x,y)&\to &(y,x). \end{array}$$

  Quelles sont les assertions vraies ?

  A. $f(0)=0$
  B. $f$ est une application linéaire
  C. $g(x,y)=g(y,x)$, pour tout $(x,y) \in \Rr^2$
  D. $g$ est une application linéaire

  Réponse : $f(0)=0$
  {% endraw %}


  Question :
  {{ question }}

  {% for c in targets.choices %}
  {{ "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[loop.index0] }}. {{ c }}
  {% endfor %}

  Réponse :

  
# Required for multiple_choice output_type
doc_to_choice: "{{ targets.choices }}"

# Not used (scoring handled in process_results)
# doc_to_target: 0

doc_to_target: "{{ targets.choices | length | range }}"

# TruthfulQA-style MC2 metric: log-likelihood → probability mass
process_results: !function utils.process_results

metric_list:
  - metric: acc
    aggregation: mean
    higher_is_better: true

metadata:
  version: 1.0
  description: >
    French math multi-label multiple-choice benchmark using 
    few-shot prompting and TruthfulQA-style MC2 probability scoring.

